import{S as N,i as I,s as J,l as v,u as j,a as z,m as k,p as y,v as O,h as _,c as C,q as w,b as p,K as T,n as b,V as D,w as K,R as X,W as x,X as G,e as H,Y as M,f as V,t as W,x as P,y as Q,z as U,C as Z}from"../chunks/index-b96070fb.js";/* empty css                                                    */function R(a,e,n){const t=a.slice();return t[3]=e[n],t}function S(a,e,n){const t=a.slice();return t[6]=e[n],t}function q(a,e,n){const t=a.slice();return t[9]=e[n],t}function B(a){let e,n=a[9]+"",t;return{c(){e=v("th"),t=j(n),this.h()},l(l){e=k(l,"TH",{class:!0});var c=y(e);t=O(c,n),c.forEach(_),this.h()},h(){w(e,"class","svelte-16z256w")},m(l,c){p(l,e,c),T(e,t)},p(l,c){c&1&&n!==(n=l[9]+"")&&K(t,n)},d(l){l&&_(e)}}}function F(a){let e,n=a[6]+"",t;return{c(){e=v("td"),t=j(n),this.h()},l(l){e=k(l,"TD",{class:!0});var c=y(e);t=O(c,n),c.forEach(_),this.h()},h(){w(e,"class","svelte-16z256w")},m(l,c){p(l,e,c),T(e,t)},p(l,c){c&1&&n!==(n=l[6]+"")&&K(t,n)},d(l){l&&_(e)}}}function L(a){let e,n,t,l,c=Object.values(a[3]),r=[];for(let h=0;h<c.length;h+=1)r[h]=F(S(a,c,h));return{c(){e=v("tr");for(let h=0;h<r.length;h+=1)r[h].c();n=z(),this.h()},l(h){e=k(h,"TR",{class:!0});var u=y(e);for(let i=0;i<r.length;i+=1)r[i].l(u);n=C(u),u.forEach(_),this.h()},h(){w(e,"class","svelte-16z256w")},m(h,u){p(h,e,u);for(let i=0;i<r.length;i+=1)r[i].m(e,null);T(e,n),t||(l=X(e,"click",function(){x(a[1](a[3]))&&a[1](a[3]).apply(this,arguments)}),t=!0)},p(h,u){if(a=h,u&1){c=Object.values(a[3]);let i;for(i=0;i<c.length;i+=1){const f=S(a,c,i);r[i]?r[i].p(f,u):(r[i]=F(f),r[i].c(),r[i].m(e,n))}for(;i<r.length;i+=1)r[i].d(1);r.length=c.length}},d(h){h&&_(e),D(r,h),t=!1,l()}}}function ee(a){let e,n,t,l,c,r,h,u,i=Object.keys(a[0][0]),f=[];for(let o=0;o<i.length;o+=1)f[o]=B(q(a,i,o));let $=Object.values(a[0]),m=[];for(let o=0;o<$.length;o+=1)m[o]=L(R(a,$,o));return{c(){e=v("h1"),n=j("Tenants"),t=z(),l=v("table"),c=v("thead"),r=v("tr");for(let o=0;o<f.length;o+=1)f[o].c();h=z(),u=v("tbody");for(let o=0;o<m.length;o+=1)m[o].c();this.h()},l(o){e=k(o,"H1",{});var d=y(e);n=O(d,"Tenants"),d.forEach(_),t=C(o),l=k(o,"TABLE",{class:!0});var s=y(l);c=k(s,"THEAD",{});var g=y(c);r=k(g,"TR",{class:!0});var Y=y(r);for(let E=0;E<f.length;E+=1)f[E].l(Y);Y.forEach(_),g.forEach(_),h=C(s),u=k(s,"TBODY",{});var A=y(u);for(let E=0;E<m.length;E+=1)m[E].l(A);A.forEach(_),s.forEach(_),this.h()},h(){w(r,"class","svelte-16z256w"),w(l,"class","svelte-16z256w")},m(o,d){p(o,e,d),T(e,n),p(o,t,d),p(o,l,d),T(l,c),T(c,r);for(let s=0;s<f.length;s+=1)f[s].m(r,null);T(l,h),T(l,u);for(let s=0;s<m.length;s+=1)m[s].m(u,null)},p(o,[d]){if(d&1){i=Object.keys(o[0][0]);let s;for(s=0;s<i.length;s+=1){const g=q(o,i,s);f[s]?f[s].p(g,d):(f[s]=B(g),f[s].c(),f[s].m(r,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=i.length}if(d&3){$=Object.values(o[0]);let s;for(s=0;s<$.length;s+=1){const g=R(o,$,s);m[s]?m[s].p(g,d):(m[s]=L(g),m[s].c(),m[s].m(u,null))}for(;s<m.length;s+=1)m[s].d(1);m.length=$.length}},i:b,o:b,d(o){o&&_(e),o&&_(t),o&&_(l),D(f,o),D(m,o)}}}function te(a,e,n){let{tenants:t}=e;const l="/register/";async function c(r){confirm("Are you sure you want to delete the tenant: "+name+"?")&&fetch(l,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant:r.tenant,email:r.email,base_domain:"kube.ab.tobealy.com",action:"delete-tenant",status:"Deleting"})}).then(h=>{n(0,t=t.filter(u=>u.tenant!=r.name))})}return a.$$set=r=>{"tenants"in r&&n(0,t=r.tenants)},[t,c]}class ne extends N{constructor(e){super(),I(this,e,te,ee,J,{tenants:0})}}function le(a){let e;return{c(){e=j("You have no tenants created.")},l(n){e=O(n,"You have no tenants created.")},m(n,t){p(n,e,t)},p:b,i:b,o:b,d(n){n&&_(e)}}}function ae(a){let e,n;return e=new ne({props:{tenants:a[3].Items}}),{c(){P(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,l){U(e,t,l),n=!0},p:b,i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function se(a){let e;return{c(){e=j("Fetching ..")},l(n){e=O(n,"Fetching ..")},m(n,t){p(n,e,t)},p:b,i:b,o:b,d(n){n&&_(e)}}}function ce(a){let e,n,t={ctx:a,current:null,token:null,hasCatch:!0,pending:se,then:ae,catch:le,value:3,error:4,blocks:[,,,]};return G(a[0],t),{c(){e=H(),t.block.c()},l(l){e=H(),t.block.l(l)},m(l,c){p(l,e,c),t.block.m(l,t.anchor=c),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(l,[c]){a=l,M(t,a,c)},i(l){n||(V(t.block),n=!0)},o(l){for(let c=0;c<3;c+=1){const r=t.blocks[c];W(r)}n=!1},d(l){l&&_(e),t.block.d(l),t.token=null,t=null}}}function oe(a){const e="/tenant/";return console.log("getTenants"),[fetch(e).then(t=>t.json())]}class he extends N{constructor(e){super(),I(this,e,oe,ce,J,{})}}export{he as default};
